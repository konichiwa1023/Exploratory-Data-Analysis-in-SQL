-- Compute the gaps
WITH request_gaps AS (
        SELECT date_created,
               -- use lag to get the previous request
               lag(date_created) OVER (ORDER BY date_created) AS previous,
               -- compute gap as current date_created minus previous
               date_created - lag(date_created) OVER (ORDER BY date_created) AS gap
          FROM evanston311)
-- Select the row with the maximum gap
SELECT *
  FROM request_gaps
-- Subquery to select maximum gap from request_gaps
 WHERE gap = (SELECT max(gap)
                FROM request_gaps);
